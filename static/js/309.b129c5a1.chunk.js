"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[309],{125:function(e,n,t){t.r(n),t.d(n,{default:function(){return j}});var r=t(861),a=t(439),s=t(757),i=t.n(s),o=t(791),c=t(689),u=t(87),l=t(273),f=t(809),h="MovieDetails_wrapper__YMWLn",p="MovieDetails_add-info__Rr+5j",v="MovieDetails_add-nav__ZmH79",d="MovieDetails_page-link__TJQ+u",m="MovieDetails_page-information-link__FArGy",x=t(602),g={"main-info":"MovieMainInfo_main-info__F7wYr"},w=t(184),b=function(e){var n=e.movie,t=n.title,r=n.overview,a=n.release_date,s=n.genres,i=n.poster_path,o=n.vote_average,c=i?"".concat(l.G.imgBaseURL).concat(i):x,u=a?a.slice(0,4):"unknown";return(0,w.jsxs)("section",{className:g["main-info"],children:[(0,w.jsx)("img",{src:c,alt:t,width:320}),(0,w.jsxs)("div",{className:g.description,children:[(0,w.jsxs)("h1",{children:[t," (",u,")"]}),(0,w.jsxs)("p",{children:["User Score: ",Math.round(10*Number(o)),"% "]}),(0,w.jsxs)("div",{className:g["descr-item"],children:[(0,w.jsx)("h2",{children:"Overview"}),(0,w.jsx)("p",{children:r})]}),(0,w.jsxs)("div",{className:g["descr-item"],children:[(0,w.jsx)("h2",{children:"Genres"}),(0,w.jsx)("p",{children:0!==(null===s||void 0===s?void 0:s.length)?s.map((function(e){return e.name})).join(" "):"unknown"})]})]})]})},j=function(){var e,n,t=(0,c.UO)().movieId,s=(0,o.useState)(null),x=(0,a.Z)(s,2),g=x[0],j=x[1],_=(0,o.useState)(""),k=(0,a.Z)(_,2),y=k[0],Z=k[1],N=(0,o.useState)(!1),S=(0,a.Z)(N,2),U=S[0],M=S[1],D=(0,c.TH)(),E=(0,o.useRef)(null!==(e=null===(n=D.state)||void 0===n?void 0:n.from)&&void 0!==e?e:"/movies");return(0,o.useEffect)((function(){var e=new AbortController,n=e.signal;M(!0);var a=function(){var e=(0,r.Z)(i().mark((function e(){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.G.getDetails(t,n);case 3:if(!1!==(r=e.sent).success){e.next=7;break}return Z("Something went wrong... Information about this movie was not found yet. Please try again later."),e.abrupt("return");case 7:j(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),"AbortError"===e.t0.name?console.log("abort error"):(console.log(e.t0),Z("Something went wrong... Please, try again later."));case 13:return e.prev=13,M(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})));return function(){return e.apply(this,arguments)}}();return a(),function(){return e.abort()}}),[t]),(0,w.jsxs)("div",{className:h,children:[(0,w.jsx)(u.rU,{to:E.current,className:d,children:"Go back"}),U&&(0,w.jsx)(f.Z,{}),y&&(0,w.jsx)("div",{children:y}),g&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(b,{movie:g}),(0,w.jsxs)("section",{className:p,children:[(0,w.jsx)("h2",{children:"Additional information"}),(0,w.jsxs)("ul",{className:v,children:[(0,w.jsx)("li",{children:(0,w.jsx)(u.rU,{to:"cast",className:m,children:"Cast"})}),(0,w.jsx)("li",{children:(0,w.jsx)(u.rU,{to:"reviews",className:m,children:"Reviews"})})]}),(0,w.jsx)(o.Suspense,{fallback:(0,w.jsx)(f.Z,{}),children:(0,w.jsx)(c.j3,{})})]})]})]})}},273:function(e,n,t){t.d(n,{G:function(){return h}});var r=t(861),a=t(757),s=t.n(a),i="61a6b843c58046eb2a3a15bde4cbc7b9",o=function(){var e=(0,r.Z)(s().mark((function e(n){var t,r,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://api.themoviedb.org/3/trending/all/day?api_key=".concat(i),e.next=3,fetch(t,{signal:n});case 3:if((r=e.sent).ok){e.next=6;break}throw new Error(r.status);case 6:return e.next=8,r.json();case 8:return a=e.sent,e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),c=function(){var e=(0,r.Z)(s().mark((function e(n,t){var r,a,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://api.themoviedb.org/3/search/movie?api_key=".concat(i,"&query=").concat(n,"&language=en-US&page=1&include_adult=false"),e.next=3,fetch(r,{signal:t});case 3:if((a=e.sent).ok){e.next=6;break}throw new Error(a.status);case 6:return e.next=8,a.json();case 8:return o=e.sent,e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),u=function(){var e=(0,r.Z)(s().mark((function e(n,t){var r,a,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://api.themoviedb.org/3/movie/".concat(n,"?api_key=").concat(i,"&language=en-US"),e.next=3,fetch(r,{signal:t});case 3:if((a=e.sent).ok){e.next=6;break}throw new Error(a.status);case 6:return e.next=8,a.json();case 8:return o=e.sent,e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(s().mark((function e(n,t){var r,a,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://api.themoviedb.org/3/movie/".concat(n,"/credits?api_key=").concat(i,"&language=en-US"),e.next=3,fetch(r,{signal:t});case 3:if((a=e.sent).ok){e.next=6;break}throw new Error(a.status);case 6:return e.next=8,a.json();case 8:return o=e.sent,e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(s().mark((function e(n,t){var r,a,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://api.themoviedb.org/3/movie/".concat(n,"/reviews?api_key=").concat(i,"&language=en-US&page=1"),e.next=3,fetch(r,{signal:t});case 3:if((a=e.sent).ok){e.next=6;break}throw new Error(a.status);case 6:return e.next=8,a.json();case 8:return o=e.sent,e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),h={getTrending:o,getMovies:c,getDetails:u,getCast:l,getReviews:f,imgBaseURL:"https://image.tmdb.org/t/p/w500"}},602:function(e,n,t){e.exports=t.p+"static/media/defaultPoster.fb7e09e04ca3dad60feb.jpg"},861:function(e,n,t){function r(e,n,t,r,a,s,i){try{var o=e[s](i),c=o.value}catch(u){return void t(u)}o.done?n(c):Promise.resolve(c).then(r,a)}function a(e){return function(){var n=this,t=arguments;return new Promise((function(a,s){var i=e.apply(n,t);function o(e){r(i,a,s,o,c,"next",e)}function c(e){r(i,a,s,o,c,"throw",e)}o(void 0)}))}}t.d(n,{Z:function(){return a}})}}]);
//# sourceMappingURL=309.b129c5a1.chunk.js.map